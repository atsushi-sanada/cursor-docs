# 🛠️ バグ修正プロセス

## 概要

このドキュメントは、Cursor上でバグ修正を行う際の**標準プロセス**を定義したものです。AIやチームメンバーが正確に理解し、効率よく修正できるように以下の手順に従ってください。

---
## ✅ Step 1：バグの本質と修正方針の確認

- 指示者から以下の2点が明確に提示されている場合は、確認なしで次ステップへ進むこと：
  - バグの原因が具体的かつ妥当
  - 修正方針が明確で、プロジェクトルールに整合している

- 以下のいずれかの場合は、**修正を実施せず、必ず指示者に確認**する：
  - 修正方針やバグ原因が曖昧、不明、または矛盾がある
  - 修正方針と既存コードの状況に食い違いがある
  - 修正の影響範囲が設計方針に反する、または大きすぎると判断される

---

## ✅ Step 2：プロジェクト全体の把握

* 対象プロジェクトの**全体構成・設計思想・命名規則・ルール**を確認する。
* 修正がプロジェクトの設計と整合しているかを見極める。

---

## ✅ Step 3：修正内容の設計

* 以下の原則を満たす設計を行う：

  * ✅ **修正方針に忠実**であること
  * ✅ **設計思想・ルールを破壊しない**こと
  * ✅ **既存処理への影響を最小限**に抑えること

* **修正の影響範囲が大きくなる場合**は、この時点で指示者に確認し、**勝手に修正を進めない**。

---

## ✅ Step 4：修正内容のファクトチェック

* Step 3で設計した内容を、**コードとドキュメントをもとに検証**し、事実と合っているか確認。
* 問題があれば、Step 3に戻って再設計を行う。

---

## ✅ Step 5：修正の実施

* Step 3で設計した内容に基づき、**バグの修正を実行**する。

---

## ✅ Step 6：結果の報告

* 修正後は、以下のフォーマットで**指示者に報告**を行う：

  ```
  ■ バグの原因：
  （例）関数Aがnullチェックを行っておらず、NPEが発生していた。

  ■ 修正内容：
  （例）関数Aの引数にnullチェックを追加し、安全にスキップするよう変更。
  ```